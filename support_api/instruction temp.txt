.\env\Scripts\activate

(venv) PS C:\Users\andre\Desktop\RESTFUL> python manage.py test support_api
python manage.py test support_api
python manage.py runserver
https://hoppscotch.io/

http://127.0.0.1:8000/api/comments/

DEMANDE TOKEN
http://127.0.0.1:8000/api/token/

{
  "username": "ton_nom_utilisateur",
  "password": "ton_mot_de_passe"
}

Pas de panique â€” ce `401 Unauthorized` signifie que ton endpoint `/api/comments/` nÃ©cessite **une authentification**, probablement via **JWT (JSON Web Token)** avec Django REST Framework + `SimpleJWT`.

Voici **comment tâ€™authentifier dans Hoppscotch** Ã©tape par Ã©tape :

---

### âœ… 1. RÃ©cupÃ©rer un token JWT

Tu dois dâ€™abord obtenir un **token dâ€™accÃ¨s** (access token) en envoyant une requÃªte POST Ã  :

```
http://127.0.0.1:8000/api/token/
```

**Body (JSON)** :

```json
{
  "username": "ton_nom_utilisateur",
  "password": "ton_mot_de_passe"
}
```

Tu obtiendras une rÃ©ponse du style :

```json
{
  "access": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...",
  "refresh": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
}
```

ðŸ‘‰ Copie le token `access`.

---

### âœ… 2. Faire une requÃªte GET avec le token

Maintenant que tu as le token :

* MÃ©thode : `GET`
* URL : `http://127.0.0.1:8000/api/comments/`
* Onglet **Auth** dans Hoppscotch :

  * Choisis **Bearer Token**
  * Colle ton token `access` dans le champ

ðŸ‘‰ Clique sur **Send**

---

### âœ… RÃ©sultat

* **200 OK** = tout fonctionne
* **403 Forbidden** = authentifiÃ© mais pas autorisÃ© Ã  voir ces donnÃ©es
* **401 Unauthorized** = token invalide, expirÃ© ou pas envoyÃ©

---

envoie par curl mot de passe 
curl.exe -X POST http://127.0.0.1:8000/api/token/ -H "Content-Type: application/json" -d "@body.json"

retour de token
{"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1Mzc5ODU1NSwiaWF0IjoxNzUzMTkzNzU1LCJqdGkiOiJlZGE4YWMzOGVhYzc0MmYxYjIyM2FlMTJiNjVlNjJiYyIsInVzZXJfaWQiOjV9.nxq5swkeCJtgYEhCCgUeSouOw-5VX42Z6hdXM3fxh6E","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzUzMTk5MTU1LCJpYXQiOjE3NTMxOTM3NTUsImp0aSI6IjhiODE0MDY3NmJjNDQ5NTRiOTUxZGY4NmE2NWEwNzk0IiwidXNlcl9pZCI6NX0.YJXaEyC-Hc6EqXL5_z8eCCTZwWrP9eRGVC-fWGuOvGA"}


{"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1Mzc5ODU1NSwiaWF0IjoxNzUzMTkzNzU1LCJqdGkiOiJlZGE4YWMzOGVhYzc0MmYxYjIyM2FlMTJiNjVlNjJiYyIsInVzZXJfaWQiOjV9.nxq5swkeCJtgYEhCCgUeSouOw-5VX42Z6hdXM3fxh6E",
"access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzUzMTk5MTU1LCJpYXQiOjE3NTMxOTM3NTUsImp0aSI6IjhiODE0MDY3NmJjNDQ5NTRiOTUxZGY4NmE2NWEwNzk0IiwidXNlcl9pZCI6NX0.YJXaEyC-Hc6EqXL5_z8eCCTZwWrP9eRGVC-fWGuOvGA"}